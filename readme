#Create topic :

kafka-topics.bat --create --bootstrap-server localhost:9092 --replication-factor 1 --partitions 1 --topic cityinfo
kafka-topics --create --bootstrap-server localhost:9092 --replication-factor 1 --partitions 1 --topic cityinfo
kafka-console-consumer --topic cityinfo --from-beginning --bootstrap-server localhost:9092


java -Daction=producer -Dbroker=localhost:9092,localhost:9093 -Dtopic=citys3 -jar .\target\kafka-producer-consumer-0.0.1-SNAPSHOT.jar
java -Daction=producer -Dbroker=localhost:9092,localhost:9093 -Dtopic=city -jar .\target\kafka-producer-consumer-0.0.1-SNAPSHOT.jar

java -DGroupName=cityConsumerGrp -Daction=consumer -Dbroker=localhost:9092,localhost:9093 -Dtopic=populationaggregation -jar .\target\kafka-producer-consumer-0.0.1-SNAPSHOT.jar

kafka-console-consumer.bat --topic populationaggregation --from-beginning --bootstrap-server localhost:9092,localhost:9093
java -DGroupName=client3 -Daction=consumer -Dbroker=2 -jar .\target\kafka-producer-consumer-0.0.1-SNAPSHOT.jar

#Run the application in the producer mode.
java  -Daction=producer -jar .\target\kafka-producer-consumer-0.0.1-SNAPSHOT.jar


#build the application
mvn clean package

run the application as producer and  consumers in separate terminal windows.

java -DGroupName=client3 -Daction=producer -jar .\target\kafka-producer-consumer-0.0.1-SNAPSHOT.jar

java -DGroupName=client3 -Daction=consumer -jar .\target\kafka-producer-consumer-0.0.1-SNAPSHOT.jar

java -DGroupName=city -Daction=consumer  -jar .\target\kafka-producer-consumer-0.0.1-SNAPSHOT.jar

#Main Branch :

Simple producer and consumer example for the city data. The resources folder has the csv file containing all US cities data per state.


#StreamDemo branch
now please send the topic name ( city/citycounter)

java -DGroupName=client3 -Daction=producer -jar .\target\kafka-producer-consumer-0.0.1-SNAPSHOT.jar

java -DGroupName=client3 -Daction=consumer -Dtopic=citycount -jar .\target\kafka-producer-consumer-0.0.1-SNAPSHOT.jar

java -DGroupName=city -Daction=consumer -Dtopic=city  -jar .\target\kafka-producer-consumer-0.0.1-SNAPSHOT.jar

java -DGroupName=city -Daction=tempStream -Dtopic=cityinfo  -jar .\target\kafka-producer-consumer-0.0.1-SNAPSHOT.jar


# Stream filter demo
refer the data from cityTemp.json, cityid are used as topic names.
Create following topics.
refer poc.doc for for setting up the kafka cluster and zookeeper.
kafka-topics.bat --create --bootstrap-server localhost:9092 --replication-factor 2 --partitions 3 --topic cityinfo
kafka-topics.bat --create --bootstrap-server localhost:9092 --replication-factor 2 --partitions 3 --topic 1840034016
kafka-topics.bat --create --bootstrap-server localhost:9092 --replication-factor 2 --partitions 3 --topic 1840020491
kafka-topics.bat --create --bootstrap-server localhost:9092 --replication-factor 2 --partitions 3 --topic 1840000494

#send the city data to the cityinfo topic
java -Daction=producer -Dbroker=localhost:9092,localhost:9093 -Dtopic=cityinfo -jar .\target\kafka-producer-consumer-0.0.1-SNAPSHOT.jar

#Start stream

java -DGroupName=city -Dbroker=localhost:9092,localhost:9093 -Daction=filteringSteam -Dtopic=cityinfo  -jar .\target\kafka-producer-consumer-0.0.1-SNAPSHOT.jar

java -DGroupName=city -Dbroker=localhost:9092,localhost:9093 -Daction=populationaggregation -Dtopic=city  -jar .\target\kafka-producer-consumer-0.0.1-SNAPSHOT.jar
#consumers

java -DGroupName=cityConsumerGrp -Daction=consumer -Dbroker=localhost:9092,localhost:9093 -Dtopic=1840034016 -jar .\target\kafka-producer-consumer-0.0.1-SNAPSHOT.jar
java -DGroupName=cityConsumerGrp -Daction=consumer -Dbroker=localhost:9092,localhost:9093 -Dtopic=1840020491 -jar .\target\kafka-producer-consumer-0.0.1-SNAPSHOT.jar
java -DGroupName=cityConsumerGrp -Daction=consumer -Dbroker=localhost:9092,localhost:9093 -Dtopic=1840000494 -jar .\target\kafka-producer-consumer-0.0.1-SNAPSHOT.jar


#
java -Daction=producer -Dbroker=localhost:9092 -Dtopic=cityinfo -jar .\target\kafka-producer-consumer-0.0.1-SNAPSHOT.jar

# final commands
#Create topic
access the kafka bin/windows folder and use the following command to create a topic.
kafka-topics.bat --create --bootstrap-server localhost:9092 --replication-factor 2 --partitions 2 --topic cityinfo
# producer
java -Daction=producer -Dbroker=localhost:9092,localhost:9093 -Dtopic=cityinfo -jar .\target\kafka-producer-consumer-0.0.1-SNAPSHOT.jar
#consumer
java -DGroupName=cityConsumerGrp -Daction=consumer -Dbroker=localhost:9092,localhost:9093 -Dtopic=cityinfo -jar .\target\kafka-producer-consumer-0.0.1-SNAPSHOT.jar


#schema registry
docker exec -it my_container sh
kafka-topics --create --bootstrap-server localhost:9092 --replication-factor 1 --partitions 1 --topic employee

java -Daction=producer -Dbroker=localhost:19092 -Dtopic=employee -jar .\target\kafka-producer-consumer-0.0.1-SNAPSHOT.jar

java -DGroupName=employeeConsumerGrp -Daction=consumer -Dbroker=localhost:19092 -Dtopic=employee -jar .\target\kafka-producer-consumer-0.0.1-SNAPSHOT.jar
